[{"content":"Starting a Hugo blog on github turns out to be not entirely trivial, and one can just fall through the cracks of the documentation when doing simple things, as I found out\u0026hellip;\nGetting started Hugo can be downloaded as a single static binary, and getting started is simple enough with the quickstart guide. I chose PaperMod, one of the most popular themes. Then the confusions began\nAn example configuration file hugo.yaml is listed on the install page of the wiki. The same page also guides users to the source of the example website, which has a different hugo.yaml. I picked the example in the wiki because it\u0026rsquo;s shorter, but both are functional.\nThe Hugo documentation seems to default to use toml for documents, whereas PaperMod uses yaml. I think both are valid and neither are getting deprecated. Thankfully both configuration formats (and json) are given in the Hugo docs.\nPlaying nice with org mode Hugo can parse pages written in Emacs org mode files, but ox-hugo is necessary to utilise most of the org mode functionalities (such as citation). Ox-hugo recommends using one org file for all posts, with one post under a different heading. I prefer one post per file. Again, thanks to the devs for committing to supporting both since throughout the documentation configuration options are given for both methods.\nNaive /static/ links for images Unfortunately things were not so easy when it comes to adding images to the post. This is where most of the confusions began. On the side bar of the ox-hugo documentation, a section named image-links immediately grabs one\u0026rsquo;s attention. And the page duly instructs users to put images in the /static/ folder of the Hugo root folder. The Hugo docs doesn\u0026rsquo;t explicitly mention adding images in the quickstart, and a new user can\u0026rsquo;t easily find the preferred way of adding images to posts. The closest the documentation under the content management heading is one titled \u0026ldquo;Image processing\u0026rdquo; that deals with manipulating images. The actual correct page about including resources, as we shall see, is also on the same page but has an unintuitive heading.\nFollowing the instructions on the ox-hugo website, putting images in /static/ folder seems to work fine, and the other org functions are working. However, when the baseURL is changed in the Hugo.yaml to a non top level domain like https://example.com/blog/, then the previews in Hugo web server suddenly stops working.\nThis proved a frustrating bug to diagnose, after some effort I found that embedded Hugo server expects the image to live at\nhttp://localhost:1313/blog/static/images when ox-hugo exports the image link to it is relative and resolves to\nhttp://localhost:1313/static/images which of course 404s.\nI was incredulous that an internet search did not turn up any previous instances of this issue. I thought that I was using the standard method of adding images, and surely other people also put images in their blogs and would have encountered the same problem. This proved to be a conundrum because one cannot simply change the relative url in org mode, because the raw Hugo command that generates the static files have the correct image url because\nwhile running hugo serve to preview the website, the images are located under\nwebsite/static/images while running hugo to generate the website, the images folder are copied to the root directory\nwebsite/images and changing one inevitably breaks the other link.\nFrustratingly, LLMs were also of no use in this instance. Both Gemini and Claude suggested to use the -b http://localhost:1313/blog/ to enforce the base url, not realising that Hugo already does it since it is specified in the Hugo.yaml. The Claude also suggested to use a shortcode to replace the relative url generated by ox-hugo into the correct absolute url, which can be a go template that only triggers when it is in dev mode (i.e. hosted by hugo serve). The generated shortcode did not work and I had little appetite persuading the LLMs to generate a better one.\nBundled pages After going through the ox-hugo documentation in more detail, I came across the images in content page under the \u0026ldquo;Enhancements\u0026rdquo; heading of the sidebar. Following the link back to Hugo\u0026rsquo;s doc page on page bundles and some searching convinced me that this is the preferred way of adding media assets to posts.\nAfter using the example given in the ox-hugo docs as a reference and some tweaking, images are working again. The org files live in the folder content-org inside the Hugo base directory, and has the following structure:\n. └── content-org/ ├── post_1/ │ ├── post.org │ └── image1.jpg └── post_2/ ├── post.org └── image2.jpg Inside each post.org the following org preamble is also required, which would allow ox-hugo to put the exported text file as index.md in the content/posts/post_1 and content/posts/post_2 folder, where Hugo expects it to be, and also move the media files to the respective folders.\n#+HUGO_BASE_DIR: ../../ #+EXPORT_FILE_NAME: index #+HUGO_SECTION: posts This also has the additional benefit over the relative link /image in the previous section because an org [[file:fn]] link to the image can be used directly, which allows preview inside Emacs itself.\nPlaying nice with github Now that the problems with the blog has been resolved, I was glad to come across the github pages tutorial for Hugo on the Hugo docs website. The instructions were pretty detailed and they even provided a github actions yaml to build and deploy the website.\nSeparating org source from markdown However this is where another conundrum arose. The github actions workflow runs Hugo from the source files, but it operates on the markdown files, not the org source files. Since github only have access to what is checked into the repository, this means that the generated markdown files need to be checked into the repository as well.\nGit has a fine deduplication system, and a commit hook can be used to automatically check in and commit the markdown files after each commit that changes the org files. Nevertheless, this is not a solution that feels clean. Again, Gemini did not come up with any better solutions. I did not want to tinker with the github actions by putting Emacs into the build process. The other suggestion about using git worktrees seems quite complicated. In the end I settled with the the least bad seeming suggestion of using a separate repository for markdown and org files. After following the github pages guide, the github action from the Hugo docs managed to work the first time. But the website never turned up on the github.io domain. Is it because a readme.md or index.md or index.html was missing from the repository as the github pages documentation suggests?\nThe thought of having to debug github action was thoroughly unpleasant, and this was then I realised that the \u0026ldquo;Pages\u0026rdquo; setting for the repository has a static site option\u0026hellip;\nJust host the static files Turns out the github pages information from the Hugo docs was unnecessary. You do not need github actions to host your Hugo static site on github pages. You can just generate the static files by running hugo, commit the repository, and check the \u0026ldquo;host static files\u0026rdquo; option on the repository settings. This must have been blindingly obvious to anyone who have working websites on github pages already, but it still won\u0026rsquo;t hurt to put it into the quickstart, which seems to presume everyone is either using the inbuilt Jekyll support or running some arcane github actions. The static html files on github worked on the first try, and thanks to this realisation this blog is finally on the internet.\nLessons learnt The documentation of Hugo, ox-hugo, or github pages are exhaustive, but a (relatively) newcomer can still end up quite confused about doing fairly basic things when it comes to a static blog, going down the wrong path and setting up unnecessary things in the process. Perhaps a more extensive quickstart that at least goes through more of the basic functionalities of each software can mitigate things. Meanwhile, if you are thinking of hosting a Hugo blog on github pages, and are writing posts as Emacs org files and exporting them via ox-hugo, then\nUse page bundles for your media assets in each post, taking note of the ox-hugo docs too. Otherwise images will break when the baseURL is not a TLD. Ignore the github pages docs on the Hugo website. Just check in the static files produced by hugo into a repo and upload it to github. Then under the \u0026ldquo;Pages\u0026rdquo; setting of repository, click static site. Happy blogging.\n","permalink":"https://cantusfictus.github.io/posts/pitfalls/","summary":"\u003cp\u003eStarting a Hugo blog on github turns out to be not entirely trivial,\nand one can just fall through the cracks of the documentation when\ndoing simple things, as I found out\u0026hellip;\u003c/p\u003e\n\u003ch2 id=\"getting-started\"\u003eGetting started\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://gohugo.io/\"\u003eHugo\u003c/a\u003e can be downloaded as a single static binary, and getting started\nis simple enough with the \u003ca href=\"https://gohugo.io/getting-started/quick-start/\"\u003equickstart\u003c/a\u003e guide. I chose \u003ca href=\"https://themes.gohugo.io/themes/hugo-papermod/\"\u003ePaperMod\u003c/a\u003e, one of\nthe most popular themes. Then the confusions began\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eAn example configuration file \u003ccode\u003ehugo.yaml\u003c/code\u003e is listed on the \u003ca href=\"https://github.com/adityatelange/hugo-PaperMod/wiki/Installation\"\u003einstall\npage\u003c/a\u003e of the wiki. The same page also guides users to the source of\nthe \u003ca href=\"https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite\"\u003eexample website\u003c/a\u003e, which has a different \u003ccode\u003ehugo.yaml\u003c/code\u003e. I picked\nthe example in the wiki because it\u0026rsquo;s shorter, but both are\nfunctional.\u003c/p\u003e","title":"Pitfalls on starting a static blog in 2026"},{"content":"Sections of Montaigne\u0026rsquo;s essays discuss the essays themselves. The following selection was inspired by Charles Rosen\u0026rsquo;s review of the Pleiade edition of Montaigne\u0026rsquo;s essays1, where many of these quotations are given but not fully referenced.\nTextual notes All quotations below are reproduced from Donald Frame\u0026rsquo;s translation2. The images come from Montaigne\u0026rsquo;s personal annotated copy of the 1588 edition of his essays, now kept (and digitised) by the Bibliothèque municipale de Bordeaux3.\nI.8 Of idleness Lately when I retired to my home, determined so far as possible to bother about nothing except spending the little life I have left in rest and seclusion, it seemed to me I could do my mind no greater favor than to let it entertain itself in full idleness and stay and settle in itself, which I hoped it might do more easily now, having become weightier and riper with time. But I find\nEver idle hours breed wandering thoughts \u0026mdash; LUCAN\nthat, on the contrary, like a runaway horse, it gives itself a hundred times more trouble than it took for others, and gives birth to so many chimeras and fantastic monsters, one after another, without order or purpose, that in order to contemplate their ineptitude and strangeness at my pleasure, I have begun to put them in writing, hoping in time to make my mind ashamed of itself. (p. 25)\nI.40 A consideration upon Cicero Figure 1: Bordeaux Copy, 104v, reproduced from https://gallica.bnf.fr/ark:/12148/bpt6k11718168/f222.item. The following translated passage begins with Montaigne\u0026rsquo;s autograph annotation at the lower left margin.\nI know well that when I hear someone dwell on the language of these essays, I would rather he said nothing. This is not so much to extol the style as to depreciate the sense; the more galling for being more oblique. Yet I am much mistaken if many other writers offer more to take hold of in their material than I do, and, whether for better or for worse, if any writer has sown his materials more substantially or at least more thickly on his paper. In order to get more in, I pile up only the headings of subjects. Were I to add on their consequences, I would multiply this volume many times over. And how many stories have I spread around which say nothing of themselves, but from which anyone who troubles to pluck them with a little ingenuity will produce numberless essays. Neither these stories nor my quotations serve always simply for example, authority, or ornament. I do not esteem them solely for the use I derive from them. They often bear, outside of my subject, the seeds of a richer and bolder material, and sound obliquely a subtler note, both for myself, who do not wish to express anything more, and for those who get my drift. (p. 224)\nII.6 Of Practice And yet it should not be held against me if I publish what I write. What is useful to me may also by accident be useful to another. Moreover, I am not spoiling anything, I am using only what is mine. And if l play the fool, it is at my expense and without harm to anyone. For it is a folly that will die with me, and will have no consequences. We have heard of only two or three ancients who opened up this road, and even of them we cannot say whether their manner in the least resembled mine, since we know only their names. No one since has followed their lead. It is a thorny under­ taking, and more so than it seems, to follow a movement so wandering as that of our mind, to penetrate the opaque depths of its innermost folds, to pick out and immobilize the innumerable flutterings that agitate it. And it is a new and extraordinary amusement, which withdraws us from the ordinary occupations of the world, yes, even from those most recommended.\nIt is many years now that I have had only myself as object of my thoughts, that I have been examining and studying only myself; and if l study anything else, it is in order promptly to apply it to myself, or rather within myself. And it does not seem to me that I am making a mistake if - as is done in the other sciences, which are incomparably less useful - I impart what I have learned in this one, though I am hardly satisfied with the progress I have made in it. There is no description equal in difficulty, or certainly in usefulness, to the description of oneself. Even so one must spruce up, even so one must present oneself in an orderly arrangement, if one would go out in public. Now, I am constantly adorning myself, for I am constantly describing myself. (p. 331)\nII.17 Of presumption I leaf through books, I do not study them. What I retain of them is something I no longer recognize as anyone else\u0026rsquo;s. It is only the material from which my judgment has profited, and the thoughts and ideas with which it has become imbued; the author, the place, the words, and other circumstances, I immediately forget. (p. 600)\nII.18 Of giving the lie Figure 2: Bordeaux Copy, 285v, reproduced from https://gallica.bnf.fr/ark:/12148/bpt6k11718168/f600.item. The following translated passage is part of Montaigne\u0026rsquo;s autograph annotation that fills the top and left margins.\nIn modeling this figure upon myself, I have had to fashion and compose myself so often to bring myself out, that the model itself has to some extent grown firm and taken shape. Painting myself for others, I have painted my inward self with colors clearer than my original ones. I have no more made my book than my book has made me - a book consubstantial with its author, concerned with my own self, an integral part of my life; not concerned with some third-hand, extraneous purpose, like all other books. (p. 612)\nI have not studied one bit to make a book; but I have studied a bit because I had made it, if it is studying a bit to skim over and pinch, by his head or his feet, now one author, now another; not at all to form my opinions, but certainly to assist, second, and serve those which I formed long ago. (p. 613)\nII.27 Cowardice, mother of cruelty Fine materials are always in place, wherever you sow them. I, who have more concern for the weight and utility of the arguments than for their order and sequence, should not fear to place here, a little out of the way, a very beautiful story. (p. 642)\nIII.1 Of the useful and the honorable I speak to my paper as I speak to the first man I meet. (p. 726)\nIII.2 Of repentance I cannot keep my subject still. It goes along befuddled and staggering, with a natural drunkenness. I take it in this condition, just as it is at the moment I give my attention to it. I do not portray being: I portray passing. Not the passing from one age to another, or, as the people say, from seven years to seven years, but from day to day, from minute to minute. My history needs to be adapted to the moment. I may presently change, not only by chance, but also by intention. This is a record of various and changeable occurrences, and of irresolute and, when it so befalls, contradictory ideas: whether I am different myself, or whether I take hold of my subjects in different circumstances and aspects. So, all in all, I may indeed contradict myself now and then; but truth, as Demades said, I do not contradict. If my mind could gain a firm footing, I would not make essays, I would make decisions; but it is always in apprentice­ ship and on trial. (p. 740)\nFigure 3: Bordeaux Copy, 351r, reproduced from https://gallica.bnf.fr/ark:/12148/bpt6k11718168/f731.item. The following translated passages starts with Montaigne\u0026rsquo;s first autograph annotation at the right margin.\nAuthors communicate with the-people by some special extrinsic mark; I am the first to do so by my entire being, as Michel de Montaigne, not as a grammarian or a poet or a jurist. If the world complains that I speak too much of myself, I complain that it does not even think of itself.\nBut is it reasonable that I, so fond of privacy in actual life, should aspire to publicity in the knowledge of me? Is it reasonable too that I should set forth to the world, where fashioning and art have so much credit and authority, some crude and simple products of nature, and of a very feeble nature at that? Is it not making a wall without stone, or something like that, to construct books without knowledge and without art? Musical fancies are guided by art, mine by chance.\nAt least I have one thing according to the rules: that no man ever treated a subject he knew and understood better than I do the subject I have undertaken; and that in this I am the most learned man alive. Secondly, that no man ever penetrated more deeply into his material, or plucked its limbs and consequences cleaner, or reached more accurately and fully the goal he had set for his work. To accomplish it, I need only bring it to fidelity; and that is in it, as sincere and pure as can be found. I speak the truth, not my fill of it, but as much as I dare speak; and I dare to do so a little more as I grow old, for it seems that custom allows old age more freedom to prate and more indiscretion in talking about oneself. It cannot happen here as I see it happening often, that the craftsman and his work contradict each other: \u0026ldquo;Has a man whose conversation is so good written such a stupid book?\u0026rdquo; or \u0026ldquo;Have such learned writings come from a man whose conversation is so feeble?\u0026rdquo;\nIf a man is commonplace in conversation and rare in writing, that means that his capacity is in the place from which he borrows it, and not in himself. A learned man is not learned in all matters; but the capable man is capable in all matters, even in ignorance.\nIn this case we go hand in hand and at the same pace, my book and I. In other cases one may commend or blame the work apart from the workman; not so here; he who touches the one, touches the other. He who judges it without knowing it will injure himself more than me; he who has known it will completely satisfy me. Happy beyond my deserts if I have just this share of public approval, that I make men of understanding feel that I was capable of profiting by knowledge, if I had had any, and that I deserved better assistance from my memory. (p. 741)\nI speak as an ignorant inquirer, referring the decision purely and simply to the common and authorized beliefs. I do not teach, I tell. (p. 742)\nIn my region of Gascony they think it a joke to see me in print. The farther from my lair the knowledge of me spreads, the more I am valued. I buy printers in Guienne, elsewhere they buy me. (p. 744)\nIII.3 Of three kinds of association When at home, I turn aside a little more often to my library, from which at one sweep I command a view of my household. I am over the entrance, and see below me my garden, my farmyard, my courtyard, and into most of the parts of my house. There I leaf through now one book, now another, without order and without plan, by disconnected fragments. One moment I muse, another moment I set down or dictate, walking back and forth, these fancies of mine that you see here.\nIt is on the third floor of a tower; the first is my chapel, the second a bedroom and dressing room, where I often sleep in order to be alone. Above it is a great wardrobe. In the past it was the most useless place in my house. In my library I spend most of the days of my life, and most of the hours of the day. I am never there at night. Adjoining it is a rather elegant little room, in which a fire may be laid in winter, very pleasantly lighted by a window.\n(\u0026hellip;)\nEvery place of retirement requires a place to walk. My thoughts fall asleep if I make them sit down. My mind will not budge unless my legs move it. Those who study without a book are all in the same boat. (pp. 762-763)\nIII.9 - Of Vanity Figure 4: Bordeaux Copy, 424v, reproduced from https://gallica.bnf.fr/ark:/12148/bpt6k11718168/f878.item. The following translated passages begins about three quarters of way down the page and continues into the bottom margin autograph annotations.\nReader, let this essay of myself run on, and this third extension of the other parts of my painting. I add, but I do not correct. First, because when a man has mortgaged his work to the world, it seems to me that he has no further right to it. Let him speak better elsewhere, if he can, and not adulterate the work he has sold. From such people nothing should be bought until after their death. Let them think carefully before publishing. Who is hurrying them?\nMy book is always one. Except that at each new edition, so that the buyer may not come off completely empty-handed, I allow myself to add, since it is only an ill-fitted patchwork, some extra ornaments. These are only overweights, which do not condemn the original form, but give some special value to each of the subsequent ones, by a bit of ambitious subtlety. Thence, however, it will easily happen that some transposition of chronology may slip in, for my stories take their place according to their timeliness, not always according to their age.\nSecond, because, as far as I am concerned, I fear to lose by the change: my understanding does not always go forward, it goes backward too. I distrust my thoughts hardly any less for being second or third than for being first, or for being present than for being past. We often correct ourselves as stupidly as we correct others. My first edition was in the year 1580. Since then I have grown older by a long stretch of time; but certainly I have not grown an inch wiser. Myself now and myself a while ago are indeed two; but when better, I simply cannot say. It would be fine to be old if we traveled only toward improvement. It is a drunkard\u0026rsquo;s motion, staggering, dizzy, wobbling, or that of reeds that the wind stirs haphazardly as it pleases. (p. 894-895)\nAmusing notion: many things that I would not want to tell anyone, I tell the public; and for my most secret knowledge and thoughts I send my most faithful friends to a bookseller\u0026rsquo;s shop. (p. 911)\nI write my book for few men and for few years. (p. 913)\nThe titles of my chapters do not always embrace their matter; often they only denote it by some sign. (p. 925)\nIt is the inattentive reader who loses my subject, not I. Some word about it will always be found off in a corner, which will not fail to be sufficient, though it takes little room. (p. 925)\nIII.12 Of physiognomy I, among so many borrowings of mine, am very glad to be able to hide one now and then, disguising and altering it for a new service. At the risk of letting it be said that I do so through failure to understand its original use, I give it some particular application with my own hand, so that it may be less purely someone else\u0026rsquo;s. These others put their thefts on parade and into account; and so they have better credit with the laws than I. Like those who steal horses, I paint their mane and tail, and sometimes blind them in one eye; if the first owner used them as amblers I set them to trotting, and put them to carrying the pack if they served for the saddle. (p. 985)\nReferences Montaigne, Michel de (1588\u0026ndash;1592). Essais [Exemplaire de Bordeaux].\nMontaigne, Michel Eyquem de and Frame, Donald M. (2003). The complete works: essays, travel journal, letters, Alfred A. Knopf.\nRosen, Charles (2008). The Genius of Montaigne, The New York Review of Books.\n(Rosen, Charles, 2008)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n(Montaigne, Michel Eyquem de and Frame, Donald M., 2003)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n(Montaigne, Michel de, 1588\u0026ndash;1592)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://cantusfictus.github.io/posts/montaigne/","summary":"\u003cp\u003eSections of Montaigne\u0026rsquo;s essays discuss the essays themselves. The\nfollowing selection was inspired by Charles Rosen\u0026rsquo;s \u003ca href=\"https://www.nybooks.com/articles/2008/02/14/the-genius-of-montaigne/\"\u003ereview\u003c/a\u003e of the\nPleiade edition of Montaigne\u0026rsquo;s essays\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003e, where many of these quotations\nare given but not fully referenced.\u003c/p\u003e","title":"Montaigne on his essays"}]